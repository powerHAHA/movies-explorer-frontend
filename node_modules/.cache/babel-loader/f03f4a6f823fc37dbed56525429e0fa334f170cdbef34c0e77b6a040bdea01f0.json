{"ast":null,"code":"var _jsxFileName = \"/Users/denis/dev/movies-explorer-frontend/src/components/MoviesCardList/MoviesCardList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport './MoviesCardList.css';\nimport { MoviesCard } from '../MoviesCard/MoviesCard';\nimport { ShowMore } from '../ShowMore/ShowMore';\nimport { MAX_WIDTH_TABLET, MAX_WIDTH_MOBILE, DESKTOP_MAX_MOVIES, TABLET_MAX_MOVIES, MOBILE_MAX_MOVIES, DESKTOP_MORE_STEP, TABLET_MORE_STEP } from '../../utils/constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const MoviesCardList = _ref => {\n  _s();\n  let {\n    movies,\n    savedMovies,\n    onLikeMovie,\n    onDeleteMovie\n  } = _ref;\n  const {\n    pathname\n  } = useLocation();\n  const [initialMovies, setInitialMovies] = useState([]);\n  const [count, setCount] = useState(DESKTOP_MAX_MOVIES);\n  const [moreCount, setMoreCount] = useState(DESKTOP_MORE_STEP);\n  useEffect(() => {\n    onResize();\n    window.addEventListener(\"resize\", onResize);\n    return () => {\n      window.removeEventListener(\"resize\", onResize);\n    };\n  }, []);\n  let timeout = null;\n  function onResize() {\n    timeout && clearTimeout(timeout);\n    timeout = setTimeout(() => {\n      const width = window.innerWidth;\n      if (pathname === '/saved-movies') {\n        setInitialMovies(movies);\n      }\n      if (width > MAX_WIDTH_TABLET) {\n        setCount(DESKTOP_MAX_MOVIES);\n        setMoreCount(DESKTOP_MORE_STEP);\n      } else if (width > MAX_WIDTH_MOBILE) {\n        setCount(TABLET_MAX_MOVIES);\n        setMoreCount(TABLET_MORE_STEP);\n      } else {\n        setCount(MOBILE_MAX_MOVIES);\n        setMoreCount(TABLET_MORE_STEP);\n      }\n    }, 100);\n  }\n  React.useEffect(() => {\n    setInitialMovies(movies.slice(0, count));\n  }, [movies, count]);\n  function handleMoreClick() {\n    const newArray = [...movies.slice(0, count + moreCount)];\n    setCount(count + moreCount);\n    setInitialMovies(newArray);\n  }\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"card-list\",\n    children: [initialMovies.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: `card-list__items ${pathname === '/saved-movies' ? 'card-list__items_size_b' : ''}`,\n        children: initialMovies.map(movie => /*#__PURE__*/_jsxDEV(MoviesCard, {\n          movie: movie,\n          savedMovies: savedMovies,\n          onLikeMovie: onLikeMovie,\n          onDeleteMovie: onDeleteMovie\n        }, movie.id || movie.movieId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 8\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 6\n      }, this)\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"card-list__text\",\n      children: \"\\u041D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 6\n    }, this), initialMovies.length === movies.length ? '' : /*#__PURE__*/_jsxDEV(ShowMore, {\n      onClick: handleMoreClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 3\n  }, this);\n};\n_s(MoviesCardList, \"2eX3No77Ye46+/JukEjO2B5C8XA=\", false, function () {\n  return [useLocation];\n});\n_c = MoviesCardList;\nvar _c;\n$RefreshReg$(_c, \"MoviesCardList\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","MoviesCard","ShowMore","MAX_WIDTH_TABLET","MAX_WIDTH_MOBILE","DESKTOP_MAX_MOVIES","TABLET_MAX_MOVIES","MOBILE_MAX_MOVIES","DESKTOP_MORE_STEP","TABLET_MORE_STEP","jsxDEV","_jsxDEV","Fragment","_Fragment","MoviesCardList","_ref","_s","movies","savedMovies","onLikeMovie","onDeleteMovie","pathname","initialMovies","setInitialMovies","count","setCount","moreCount","setMoreCount","onResize","window","addEventListener","removeEventListener","timeout","clearTimeout","setTimeout","width","innerWidth","slice","handleMoreClick","newArray","className","children","length","map","movie","id","movieId","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/denis/dev/movies-explorer-frontend/src/components/MoviesCardList/MoviesCardList.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport './MoviesCardList.css';\nimport { MoviesCard } from '../MoviesCard/MoviesCard';\nimport { ShowMore } from '../ShowMore/ShowMore';\nimport {\n\tMAX_WIDTH_TABLET,\n\tMAX_WIDTH_MOBILE,\n\tDESKTOP_MAX_MOVIES,\n\tTABLET_MAX_MOVIES,\n\tMOBILE_MAX_MOVIES,\n\tDESKTOP_MORE_STEP,\n\tTABLET_MORE_STEP\n} from '../../utils/constants';\n\nexport const MoviesCardList = ({ movies, savedMovies, onLikeMovie, onDeleteMovie }) => {\n\tconst { pathname } = useLocation();\n\n\tconst [initialMovies, setInitialMovies] = useState([]);\n\n\tconst [count, setCount] = useState(DESKTOP_MAX_MOVIES);\n\tconst [moreCount, setMoreCount] = useState(DESKTOP_MORE_STEP);\n\n\tuseEffect(() => {\n\t\tonResize()\n\t\twindow.addEventListener(\"resize\", onResize)\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"resize\", onResize)\n\t\t}\n\t}, []);\n\n\tlet timeout = null;\n\n\tfunction onResize() {\n\t\ttimeout && clearTimeout(timeout);\n\n\t\ttimeout = setTimeout(() => {\n\t\t\tconst width = window.innerWidth;\n\t\t\tif (pathname === '/saved-movies') {\n\t\t\t\tsetInitialMovies(movies);\n\t\t\t}\n\t\t\tif (width > MAX_WIDTH_TABLET) {\n\t\t\t\tsetCount(DESKTOP_MAX_MOVIES)\n\t\t\t\tsetMoreCount(DESKTOP_MORE_STEP)\n\t\t\t} else if (width > MAX_WIDTH_MOBILE) {\n\t\t\t\tsetCount(TABLET_MAX_MOVIES)\n\t\t\t\tsetMoreCount(TABLET_MORE_STEP)\n\t\t\t} else {\n\t\t\t\tsetCount(MOBILE_MAX_MOVIES)\n\t\t\t\tsetMoreCount(TABLET_MORE_STEP)\n\t\t\t}\n\t\t}, 100);\n\t}\n\n\tReact.useEffect(() => {\n\t\tsetInitialMovies(movies.slice(0, count))\n\t}, [movies, count]);\n\n\tfunction handleMoreClick() {\n\t\tconst newArray = [\n\t\t\t...movies.slice(0, (count + moreCount))\n\t\t]\n\t\tsetCount(count + moreCount);\n\t\tsetInitialMovies(newArray);\n\t}\n\n\treturn (\n\t\t<section className=\"card-list\">\n\t\t\t{initialMovies.length > 0 ? (\n\t\t\t\t<>\n\t\t\t\t\t<ul className={`card-list__items ${pathname === '/saved-movies' ? 'card-list__items_size_b' : ''}`}>\n\t\t\t\t\t\t{initialMovies.map((movie) => (\n\t\t\t\t\t\t\t<MoviesCard\n\t\t\t\t\t\t\t\tkey={movie.id || movie.movieId}\n\t\t\t\t\t\t\t\tmovie={movie}\n\t\t\t\t\t\t\t\tsavedMovies={savedMovies}\n\t\t\t\t\t\t\t\tonLikeMovie={onLikeMovie}\n\t\t\t\t\t\t\t\tonDeleteMovie={onDeleteMovie}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t</>\n\t\t\t) :\n\t\t\t\t(\n\t\t\t\t\t<p className='card-list__text'>Ничего не найдено</p>\n\t\t\t\t)}\n\n\t\t\t{initialMovies.length === movies.length ? '' :\n\t\t\t\t<ShowMore\n\t\t\t\t\tonClick={handleMoreClick}>\n\t\t\t\t</ShowMore>\n\t\t\t}\n\t\t</section>\n\t);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}