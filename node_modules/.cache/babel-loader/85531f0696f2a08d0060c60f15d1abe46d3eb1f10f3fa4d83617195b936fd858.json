{"ast":null,"code":"import React from'react';import{useLocation}from'react-router-dom';import'./MoviesCard.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var MoviesCard=function MoviesCard(_ref){var movie=_ref.movie,savedMovies=_ref.savedMovies,onLikeMovie=_ref.onLikeMovie,onDeleteMovie=_ref.onDeleteMovie;var _useLocation=useLocation(),pathname=_useLocation.pathname;var duration=movie.duration;var moviesDuration=function moviesDuration(duration){var hour=Math.floor(duration/60);var minute=duration%60;if(hour===0){return\"\".concat(minute,\"\\u043C\");}else if(minute===0){return\"\".concat(hour,\"\\u0447\");}else{return\"\".concat(hour,\"\\u0447 \").concat(minute,\" \\u043C\");}};var time=moviesDuration(duration);var isLiked=savedMovies.some(function(saveMovie){return saveMovie.movieId===movie.id;});function handleLike(){if(isLiked===true){var savedMovieId=savedMovies.find(function(item){return item.movieId===movie.id;});onDeleteMovie(savedMovieId);}else{onLikeMovie(movie);}}function handleDelete(){onDeleteMovie(movie);}return/*#__PURE__*/_jsxs(\"li\",{className:\"movies-card\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"movies-card__link\",href:movie.trailerLink,target:\"blank\",rel:\"noreferrer\",children:/*#__PURE__*/_jsx(\"img\",{src:movie.image.url?\"https://api.nomoreparties.co/\".concat(movie.image.url):movie.image,alt:movie.nameRU,className:\"movies-card__img\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"movies-card__container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"movies-card__name\",children:movie.nameRU}),pathname==='/saved-movies'?/*#__PURE__*/_jsx(\"button\",{className:\"button movies-card__button movies-card__button_delete\",type:\"button\",\"aria-label\":\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\",onClick:handleDelete}):/*#__PURE__*/_jsx(\"button\",{className:isLiked?'button movies-card__button movies-card__button_active':' button movies-card__button',type:\"button\",\"aria-label\":\"\\u041B\\u0430\\u0439\\u043A\\u043D\\u0443\\u0442\\u044C/\\u0423\\u0431\\u0440\\u0430\\u0442\\u044C \\u043B\\u0430\\u0439\\u043A\",onClick:handleLike}),/*#__PURE__*/_jsx(\"span\",{className:\"movies-card__time\",children:time})]})]});};","map":{"version":3,"names":["React","useLocation","jsx","_jsx","jsxs","_jsxs","MoviesCard","_ref","movie","savedMovies","onLikeMovie","onDeleteMovie","_useLocation","pathname","duration","moviesDuration","hour","Math","floor","minute","concat","time","isLiked","some","saveMovie","movieId","id","handleLike","savedMovieId","find","item","handleDelete","className","children","href","trailerLink","target","rel","src","image","url","alt","nameRU","type","onClick"],"sources":["/Users/denis/dev/movies-explorer-frontend/src/components/MoviesCard/MoviesCard.jsx"],"sourcesContent":["import React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport './MoviesCard.css';\n\nexport const MoviesCard = ({ movie, savedMovies, onLikeMovie, onDeleteMovie }) => {\n\tconst { pathname } = useLocation();\n\tconst duration = movie.duration;\n\n\tconst moviesDuration = (duration) => {\n\t\tconst hour = Math.floor(duration / 60);\n\t\tconst minute = (duration % 60);\n\n\t\tif (hour === 0) {\n\t\t\treturn (`${minute}м`);\n\t\t} else if (minute === 0) {\n\t\t\treturn (`${hour}ч`);\n\t\t} else {\n\t\t\treturn (`${hour}ч ${minute} м`);\n\t\t}\n\t}\n\n\tconst time = moviesDuration(duration);\n\n\n\n\tconst isLiked = savedMovies.some((saveMovie) => saveMovie.movieId === movie.id)\n\n\tfunction handleLike() {\n\t\tif (isLiked === true) {\n\t\t\tconst savedMovieId = savedMovies.find(\n\t\t\t\t(item) => item.movieId === movie.id\n\t\t\t);\n\t\t\tonDeleteMovie(savedMovieId);\n\t\t} else {\n\t\t\tonLikeMovie(movie)\n\t\t}\n\t}\n\n\tfunction handleDelete() {\n\t\tonDeleteMovie(movie)\n\t}\n\n\treturn (\n\t\t<li className=\"movies-card\">\n\t\t\t<a className='movies-card__link' href={movie.trailerLink} target='blank' rel=\"noreferrer\">\n\t\t\t\t<img\n\t\t\t\t\tsrc={movie.image.url ? `https://api.nomoreparties.co/${movie.image.url}` : movie.image}\n\t\t\t\t\talt={movie.nameRU}\n\t\t\t\t\tclassName='movies-card__img' />\n\t\t\t</a >\n\t\t\t<div className='movies-card__container'>\n\t\t\t\t<h2 className='movies-card__name'>{movie.nameRU}</h2>\n\t\t\t\t{pathname === '/saved-movies' ? (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='button movies-card__button movies-card__button_delete'\n\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\taria-label='Удалить'\n\t\t\t\t\t\tonClick={handleDelete} />\n\t\t\t\t) : (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={isLiked ? 'button movies-card__button movies-card__button_active' : ' button movies-card__button'}\n\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\taria-label='Лайкнуть/Убрать лайк'\n\t\t\t\t\t\tonClick={handleLike}\n\t\t\t\t\t></button>\n\t\t\t\t)}\n\t\t\t\t<span className='movies-card__time'>{time}</span>\n\t\t\t</div>\n\t\t</li >\n\t);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}