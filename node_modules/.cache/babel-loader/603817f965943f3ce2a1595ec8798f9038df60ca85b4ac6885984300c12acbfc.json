{"ast":null,"code":"import _classCallCheck from\"/Users/denis/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/denis/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var moviesApiOptions={url:'https://api.nomoreparties.co/beatfilm-movies',headers:{'Content-Type':'application/json'}};var MoviesApi=/*#__PURE__*/function(){function MoviesApi(config){_classCallCheck(this,MoviesApi);this._url=config.url;this._headers=config._headers;}_createClass(MoviesApi,[{key:\"_handleResponse\",value:function _handleResponse(res){if(res.ok){return res.json();}else{return Promise.reject(\"\\u0412\\u043E\\u0437\\u043D\\u0438\\u043A\\u043B\\u0430 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}}},{key:\"getAllMovies\",value:function getAllMovies(){return fetch(\"\".concat(this._url),{method:'GET',headers:this._headers}).then(this._handleResponse);}}]);return MoviesApi;}();export var moviesApi=new MoviesApi(moviesApiOptions);","map":{"version":3,"names":["moviesApiOptions","url","headers","MoviesApi","config","_classCallCheck","_url","_headers","_createClass","key","value","_handleResponse","res","ok","json","Promise","reject","concat","status","getAllMovies","fetch","method","then","moviesApi"],"sources":["/Users/denis/dev/movies-explorer-frontend/src/utils/MoviesApi.js"],"sourcesContent":["const moviesApiOptions = {\n\turl: 'https://api.nomoreparties.co/beatfilm-movies',\n\theaders: {\n\t\t'Content-Type': 'application/json'\n\t}\n}\nclass MoviesApi {\n\tconstructor(config) {\n\t\tthis._url = config.url;\n\t\tthis._headers = config._headers;\n\t}\n\n\t_handleResponse(res) {\n\t\tif (res.ok) {\n\t\t\treturn res.json();\n\t\t} else {\n\t\t\treturn Promise.reject(`Возникла ошибка: ${res.status}`)\n\t\t}\n\t}\n\n\tgetAllMovies() {\n\t\treturn fetch(`${this._url}`, {\n\t\t\tmethod: 'GET',\n\t\t\theaders: this._headers\n\t\t})\n\t\t\t.then(this._handleResponse);\n\t}\n}\n\nexport const moviesApi = new MoviesApi(moviesApiOptions);"],"mappings":"4PAAA,GAAM,CAAAA,gBAAgB,CAAG,CACxBC,GAAG,CAAE,8CAA8C,CACnDC,OAAO,CAAE,CACR,cAAc,CAAE,kBACjB,CACD,CAAC,IACK,CAAAC,SAAS,yBACd,SAAAA,UAAYC,MAAM,CAAE,CAAAC,eAAA,MAAAF,SAAA,EACnB,IAAI,CAACG,IAAI,CAAGF,MAAM,CAACH,GAAG,CACtB,IAAI,CAACM,QAAQ,CAAGH,MAAM,CAACG,QAAQ,CAChC,CAACC,YAAA,CAAAL,SAAA,GAAAM,GAAA,mBAAAC,KAAA,CAED,SAAAC,gBAAgBC,GAAG,CAAE,CACpB,GAAIA,GAAG,CAACC,EAAE,CAAE,CACX,MAAO,CAAAD,GAAG,CAACE,IAAI,CAAC,CAAC,CAClB,CAAC,IAAM,CACN,MAAO,CAAAC,OAAO,CAACC,MAAM,2FAAAC,MAAA,CAAqBL,GAAG,CAACM,MAAM,CAAE,CAAC,CACxD,CACD,CAAC,GAAAT,GAAA,gBAAAC,KAAA,CAED,SAAAS,aAAA,CAAe,CACd,MAAO,CAAAC,KAAK,IAAAH,MAAA,CAAI,IAAI,CAACX,IAAI,EAAI,CAC5Be,MAAM,CAAE,KAAK,CACbnB,OAAO,CAAE,IAAI,CAACK,QACf,CAAC,CAAC,CACAe,IAAI,CAAC,IAAI,CAACX,eAAe,CAAC,CAC7B,CAAC,WAAAR,SAAA,KAGF,MAAO,IAAM,CAAAoB,SAAS,CAAG,GAAI,CAAApB,SAAS,CAACH,gBAAgB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}