{"ast":null,"code":"import _slicedToArray from\"/Users/denis/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import'../Movies/Movies.css';import{SearchForm}from'../SearchForm/SearchForm';import{MoviesCardList}from'../MoviesCardList/MoviesCardList';import{filterSearchMovies,filterMoviesDuration}from'../../utils/filtration';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var SavedMovies=function SavedMovies(_ref){var savedMovies=_ref.savedMovies,onDeleteMovie=_ref.onDeleteMovie;var _useState=useState(JSON.parse(localStorage.getItem('savedMovies'))),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];function handleSearchMovies(movieName,shortFilms){var filteredMovies=filterSearchMovies(savedMovies,movieName);localStorage.setItem('filteredSavedMovies',JSON.stringify(filteredMovies));setMovies(filteredMovies);filter(shortFilms);}function filter(shortFilms){var filteredMovies=JSON.parse(localStorage.getItem('filteredSavedMovies'))||[];var resultMovies=shortFilms?filterMoviesDuration(movies):filteredMovies;setMovies(resultMovies);}useEffect(function(){localStorage.setItem('savedMovies',JSON.stringify(savedMovies));setMovies(JSON.parse(localStorage.getItem('savedMovies')));},[savedMovies]);return/*#__PURE__*/_jsxs(\"div\",{className:\"movies\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",children:/*#__PURE__*/_jsx(SearchForm,{onSearch:handleSearchMovies,filterCheckbox:filter})}),/*#__PURE__*/_jsx(MoviesCardList,{movies:movies,savedMovies:savedMovies,onDeleteMovie:onDeleteMovie})]});};","map":{"version":3,"names":["React","useEffect","useState","SearchForm","MoviesCardList","filterSearchMovies","filterMoviesDuration","jsx","_jsx","jsxs","_jsxs","SavedMovies","_ref","savedMovies","onDeleteMovie","_useState","JSON","parse","localStorage","getItem","_useState2","_slicedToArray","movies","setMovies","handleSearchMovies","movieName","shortFilms","filteredMovies","setItem","stringify","filter","resultMovies","className","children","onSearch","filterCheckbox"],"sources":["/Users/denis/dev/movies-explorer-frontend/src/components/SavedMovies/SavedMovies.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport '../Movies/Movies.css';\nimport { SearchForm } from '../SearchForm/SearchForm';\nimport { MoviesCardList } from '../MoviesCardList/MoviesCardList';\nimport { filterSearchMovies, filterMoviesDuration } from '../../utils/filtration';\n\n\nexport const SavedMovies = ({ savedMovies, onDeleteMovie }) => {\n\n\tconst [movies, setMovies] = useState(JSON.parse(localStorage.getItem('savedMovies')));\n\n\tfunction handleSearchMovies(movieName, shortFilms) {\n\t\tconst filteredMovies = filterSearchMovies(savedMovies, movieName);\n\t\tlocalStorage.setItem('filteredSavedMovies', JSON.stringify(filteredMovies));\n\n\n\t\tsetMovies(filteredMovies);\n\t\tfilter(shortFilms);\n\t}\n\n\tfunction filter(shortFilms) {\n\t\tconst filteredMovies = JSON.parse(localStorage.getItem('filteredSavedMovies')) || [];\n\t\tconst resultMovies = shortFilms\n\t\t\t? filterMoviesDuration(movies)\n\t\t\t: filteredMovies;\n\t\tsetMovies(resultMovies);\n\t}\n\n\tuseEffect(() => {\n\t\tlocalStorage.setItem('savedMovies', JSON.stringify(savedMovies));\n\t\tsetMovies(JSON.parse(localStorage.getItem('savedMovies')));\n\t}, [savedMovies]);\n\n\treturn (\n\t\t<div className=\"movies\">\n\t\t\t<div className='form-container'>\n\t\t\t\t<SearchForm\n\t\t\t\t\tonSearch={handleSearchMovies}\n\t\t\t\t\tfilterCheckbox={filter}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<MoviesCardList\n\t\t\t\tmovies={movies}\n\t\t\t\tsavedMovies={savedMovies}\n\t\t\t\tonDeleteMovie={onDeleteMovie}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n"],"mappings":"+HAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,sBAAsB,CAC7B,OAASC,UAAU,KAAQ,0BAA0B,CACrD,OAASC,cAAc,KAAQ,kCAAkC,CACjE,OAASC,kBAAkB,CAAEC,oBAAoB,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGlF,MAAO,IAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAAC,IAAA,CAAuC,IAAjC,CAAAC,WAAW,CAAAD,IAAA,CAAXC,WAAW,CAAEC,aAAa,CAAAF,IAAA,CAAbE,aAAa,CAEvD,IAAAC,SAAA,CAA4Bb,QAAQ,CAACc,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAN,SAAA,IAA9EO,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IAExB,QAAS,CAAAI,kBAAkBA,CAACC,SAAS,CAAEC,UAAU,CAAE,CAClD,GAAM,CAAAC,cAAc,CAAGtB,kBAAkB,CAACQ,WAAW,CAAEY,SAAS,CAAC,CACjEP,YAAY,CAACU,OAAO,CAAC,qBAAqB,CAAEZ,IAAI,CAACa,SAAS,CAACF,cAAc,CAAC,CAAC,CAG3EJ,SAAS,CAACI,cAAc,CAAC,CACzBG,MAAM,CAACJ,UAAU,CAAC,CACnB,CAEA,QAAS,CAAAI,MAAMA,CAACJ,UAAU,CAAE,CAC3B,GAAM,CAAAC,cAAc,CAAGX,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,qBAAqB,CAAC,CAAC,EAAI,EAAE,CACpF,GAAM,CAAAY,YAAY,CAAGL,UAAU,CAC5BpB,oBAAoB,CAACgB,MAAM,CAAC,CAC5BK,cAAc,CACjBJ,SAAS,CAACQ,YAAY,CAAC,CACxB,CAEA9B,SAAS,CAAC,UAAM,CACfiB,YAAY,CAACU,OAAO,CAAC,aAAa,CAAEZ,IAAI,CAACa,SAAS,CAAChB,WAAW,CAAC,CAAC,CAChEU,SAAS,CAACP,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,CAC3D,CAAC,CAAE,CAACN,WAAW,CAAC,CAAC,CAEjB,mBACCH,KAAA,QAAKsB,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACtBzB,IAAA,QAAKwB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC9BzB,IAAA,CAACL,UAAU,EACV+B,QAAQ,CAAEV,kBAAmB,CAC7BW,cAAc,CAAEL,MAAO,CACvB,CAAC,CACE,CAAC,cACNtB,IAAA,CAACJ,cAAc,EACdkB,MAAM,CAAEA,MAAO,CACfT,WAAW,CAAEA,WAAY,CACzBC,aAAa,CAAEA,aAAc,CAC7B,CAAC,EACE,CAAC,CAER,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}